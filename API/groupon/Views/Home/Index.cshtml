
@{
    ViewData["Title"] = "Landing Page";
}

@*In future it's going to splitted into two View pages, not just one.*@
@{
    if (!User.Identity.IsAuthenticated)
    {
        @await Html.PartialAsync("Landing");

    }
    else
    {

        @await Html.PartialAsync("Main");

    }
}



<script src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-2.2.0.min.js"
        asp-fallback-src="~/lib/jquery/dist/jquery.min.js"
        asp-fallback-test="window.jQuery"
        crossorigin="anonymous"
        integrity="sha384-K+ctZQ+LL8q6tP7I94W+qzQsfRV2a+AfHIi9k8z8l9ggpc8X+Ytst4yBo/hH+8Fk">
</script>
<script>
    $("#btn").click(getAllGroups);
    $("#post").click(postNew);
    $("#btnCompanies").click(getAllCompanies);
    $("#postCompany").click(postNewCompany);

    function getAllGroups() {
        $.ajax({
            type: "GET",
            url: "https://localhost:44330/api/groups/all",
            data: {},
            contentType: "application/json;charset=utf-8",
            dataType: "json",
            success: function (result) {
                console.log(result);
            },
            error: function (response) {
                alert('error when loading groups');
            }
        });
    }

    function getAllCompanies() {
        $.ajax({
            type: "GET",
            url: "https://localhost:44330/api/companies/all",
            data: {},
            contentType: "application/json;charset=utf-8",
            dataType: "json",
            success: function (result) {
                console.log(result);
            },
            error: function (response) {
                alert('error when loading groups');
            }
        });
    }

    function postNew() {
        $.ajax({
            type: "POST",
            url: "https://localhost:44330/api/groups/create",
            data: { title: $("#title").val(), description: $("#desc").val() },
            success: function (data) {
                if (data.toString() == '200')
                    console.log("Succesful. " + data);
                else
                    console.log("Unsuccesful. " + data);
            }
        });
    }

    function postNewCompany() {
        $.ajax({
            type: "POST",
            url: "https://localhost:44330/api/companies/create",
            data: { title: $("#titleC").val(), desc: $("#descC").val() },
            success: function (data) {
                if (data.toString() == '200')
                    console.log("Succesful. " + data);
                else
                    console.log("Unsuccesful. " + data);
            }
        });
    }
</script>

<script>


        //string name, int company, string field, string workExperience, string education,
        //string location, string picture, string currentlyWorking


        //function GetAllFields() {
        //    $.ajax({
        //        type: "GET",
        //        url: "https://localhost:44330/account/getuserfields",
        //        data: {},
        //        contentType: "application/json;charset=utf-8",
        //        dataType: "json",
        //        success: function (result) {
        //            console.log(result);
        //        },
        //        error: function (response) {
        //            alert('error when loading groups');
        //        }
        //    });
        //}

        //function AddNewFields() {
        //    $.ajax({
        //        type: "POST",
        //        url: "https://localhost:44330/account/updatefield",
        //        data: { newField = 'textbox input' },
        //        contentType: "application/json;charset=utf-8",
        //        dataType: "json",
        //        success: function (result) {
        //            console.log(result);
        //        },
        //        error: function (response) {
        //            alert('error when loading groups');
        //        }
        //    });
        //}

        //$(function () {
        //    $('input[name="showthis"]').hide();

        //    //show it when the checkbox is clicked
        //    $('input[name="checkbox"]').on('click', function () {
        //        if ($(this).prop('checked')) {
        //            $('input[name="showthis"]').fadeIn();
        //        } else {
        //            $('input[name="showthis"]').hide();
        //        }
        //    });
        //});
</script>